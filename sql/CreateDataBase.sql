CREATE TABLE [dbo].[Contas] (
    [Id] [uniqueidentifier] NOT NULL,
    [Saldo] [float] NOT NULL,
    [LimiteSaqueDiario] [float] NOT NULL,
    [Ativo] [bit] NOT NULL,
    [TipoConta] [int] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    [PessoaId] [uniqueidentifier],
    CONSTRAINT [PK_dbo.Contas] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Pessoas] (
    [Id] [uniqueidentifier] NOT NULL,
    [Nome] [varchar](150) NOT NULL,
    [CPF] [varchar](11) NOT NULL,
    [DataNascimento] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Pessoas] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Transacoes] (
    [Id] [uniqueidentifier] NOT NULL,
    [Valor] [float] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    [ContaId] [uniqueidentifier] NOT NULL,
    CONSTRAINT [PK_dbo.Transacoes] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_PessoaId] ON [dbo].[Contas]([PessoaId])
CREATE UNIQUE INDEX [IX CPF] ON [dbo].[Pessoas]([CPF])
CREATE INDEX [IX_ContaId] ON [dbo].[Transacoes]([ContaId])
ALTER TABLE [dbo].[Contas] ADD CONSTRAINT [FK_dbo.Contas_dbo.Pessoas_PessoaId] FOREIGN KEY ([PessoaId]) REFERENCES [dbo].[Pessoas] ([Id])
ALTER TABLE [dbo].[Transacoes] ADD CONSTRAINT [FK_dbo.Transacoes_dbo.Contas_ContaId] FOREIGN KEY ([ContaId]) REFERENCES [dbo].[Contas] ([Id])
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201804131343321_AutomaticMigration', N'Conductor.Desafio.Infra.Data.Migrations.Configuration',  0x1F8B0800000000000400E55A5B6FDB36147E1FB0FF20E871C8ACA4C580CEB05BA44E52186B2E889C626F012DD10E318A54452AB031EC97ED613F697F6147378AA22E9615276D57F4A5E1E52379F89D8F47E7F8DFBFFF99BCDB04D47AC491209C4DED93D1B16D61E6719FB0F5D48EE5EAE737F6BBB73FFE3039F7838DF5A918F73A1907339998DA0F528663C711DE030E901805C48BB8E02B39F278E0209F3BAF8E8F7F754E4E1C0C10366059D6E43666920438FD03FE9C71E6E150C6885E721F5391B7438F9BA25A5728C022441E9EDA30D68F3DC9A3D119166845F868CE56111A9D218946D029F146DAD6292508F6E662BAB22DC4189748C2CEC77702BB32E26CED86D080E8621B6218B74254E0FC44E37278DFC31DBF4A0EE794130B282F1692077B029EBCCEADE598D307D9DC56D6047B9E83DDE53639756AD3D49C12D996B9D27846A3645493BDCF602061A3ECAA5293A323AB6DD891220D702BF90743632AE3084F198E6584E89175132F29F17EC3DB05FF03B3298B29D5370DDB86BE4A0334DD443CC491DCDEE2557E94B96F5B4E759E634E54D3B439D9393FC404FE7F056BA325C58A124EE77417519F1708671CCE81F7C6F8480222B18B3EC7F88CA0883C15EF54924785F19E738A11DB1B6441429E5323039A33F9FAD5DE308953CE908F04F89C3A16927801CEBF37D80D168223F3C68C3957E891AC530A37CEB6AD5B4CD36EF140C24C20320ADF17032E221EDC725AF846DE7EEFF238F2608F0BDED0B940D11ACBFE9B59448809E4712C1A375476DFA7CB087D57B54EB57AB1B5FA8862F3FAFE264E29069D12511866B8466408DFAB485CF184EC19003C3EF0B2DAD625DA7CC46C2D1FE0CDFD05DED20BB2C17ED192A3DE31020F314C9251BCBFB7CC6E2EBA163D31D6CCD678DA9289B75F21E1817333B9AFBFF7A6A3EE3BC32959A27CAFB4FC84288F9EF8D61C54DF53ADDAF750AD125B08E7D3E5D554FE7601EEC3E75390428FA45BD2775A3C3FD5D39D33DFEA7A8B32F7566F18B838F09384C04858796AFF5433570BA07A414AC042F5AB88C7A3D1490D14688C23707988A70115B800BE23EB9C27CC2321A21DEB1B737A7A4A626B856EF69CE110331F36D761C73ECB96C1477D71B586E1C0BBEC327134327473A44ED9B67BEDE06F79B9BA86F6A74C47E4B1838807E24CEB065E8038AD76EDB3B692B617204F263BE98A84E1A850EAEC65531FC8B59713BE8CF3C753E4CFBF498304D6C5D2D0D752E5AA04A8B1A83A3DF3A7A6F985F0EC00D0295CC3D03B0D1CCD6AC661D4178036A4E90BC1BCC21D22AD365EDAACC6821DB2AC4128BB99D142F55C3DCEDCF00AD60FBE43777A2A8FB6FFF69BE929353BCDD9618AE24D56CE51269A9C2CD35464A49C9694D4E412852104D35A8A2A6FB1DC3C3FF5B3BB7F9A26C8301C4F34646BD46ED54A10AAA235367A137BF8F88244422661D91225D1D2CC0F6AC30C296871B362B18AB7D72FAC70BC6278F27F356567A22E178BBA84E6701770CEE463223D3236AFBE3E2FCD18228AA2865079C6691CB0F6B7A07D769EE5D101F2A6FE180D591E1DAFA1BB3F769EF1D1F1F2A6FE185AC247C7D19AFB6355BF0A74B86A4F7FC432FAD2D1DA63B2C4830D0AD51EDE1A770D15313DA1979F14F27C7047697E7B7A784ADBC4E771952CD7A1CFCF5AFA23A4790B1D206DD88F7C7A12C2A49FDEF7D5D0467B150FCE9C76EC1EECE99AFC3C0CCAD3123A40DEF425054805F01566B645F5CFCCA35A18630E51ABAB70C6085B267908D1A7DC66C414D910DB02033D123F8927DCAD9038C848E77EA6334AE0BCE5804BC4C80A0B9925C86C0879DE18F5B9AFA756E608E1D36105B3397CC46DA6F69FD65F2F9FFF8B1981C081245F91644570F4B43AD68A72240F57C61A0657A9622DC9FE00B50A1661FB8334E5377D24B13C44FDAA7E6BEDA44A10C6D6FCF7FB02E4C8BA8EC0B9C6D631104EDB4996B83F6C9DE79BA6B65E7D794491F780A27AF965786D4541EEBE3B0BA61D597371971E696C2DE0AA92CB33CA320729BAF424E9618A2EDF343F2A6590615A75509530AA20834422C768D3883D8830B05A5148C9B07A82910D1B52E718945E6EFDC67A9E2AC4FFABEED0F3AABA6E5B179981C58AE1A5A897AD217C2355837A46B14751A0BD26907D3B80382E139DCCC4A82589DB5C2FE828173461B725CB07D7129A16F942B586AA41F454CFCEF2423D89FE3596137A6EB555417A151D0E532CA87F4D83276A3F71052110645D42243F7865D8ABF8A01A33672B5E6881B1A3628811325C6209D18744A711C408C893D0ED0115D2DFFC407813C390F36089FD39BB8E65184B38320E9674AB1B239194AEF5D38A4875CF93EB30FD61C5218E00DB2449C874CDDEC784FA6ADF170DA14A0B44A2551F30B4677709D227F17AAB90AE38EB09949B4F49EC020721053071CD5CF48887ECED4EE08F788DBC6D91146907D97D1155B34FE06B7B1DA140E418E57CF81338EC079BB7FF01B8C07E45E92D0000 , N'6.2.0-61023')

